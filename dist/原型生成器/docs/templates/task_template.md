# 开发任务：[任务名称]

> 日期：YYYY-MM-DD
> 状态：规划中 / 进行中 / 已完成

## 1. 需求分析 (Requirements)
- **目标**：[简述目标]
- **用户价值**：[用户为什么需要这个功能]
- **限制条件**：[性能、兼容性等限制]

## 2. 准备工作 (Preparation)
> ⚠️ 开始写代码前必做
- [ ] **备份关键文件**：将涉及修改的文件复制到 `backups/YYYYMMDD_{任务名}/`。
- [ ] **记录备份**：在 `docs/backup_log.md` 中登记。

## 3. 实现方案 (Implementation Plan)
### 架构变更
- [ ] 是否涉及数据库/存储变更？
- [ ] 是否涉及 API 变更？

### 前端 (Viewer/UI)
- [ ] 修改文件：`src/viewer.html`
- [ ] 关键逻辑：
  - [逻辑点1]
  - [逻辑点2]

### 后端 (Server)
- [ ] 修改文件：`server.py`
- [ ] 新增接口：`[METHOD] /api/xxx`

## 3. 验证计划 (Verification)
- [ ] 测试点 1
- [ ] 测试点 2
- [ ] 边界情况测试

## 4. 风险评估
- [ ] 是否影响现有功能（如 iframe 通信、PRD 保存）？
- [ ] 是否兼容 file:// 协议导出？

## 6. 回滚计划 (Rollback Plan)
> ⚠️ 如果上线失败，如何恢复？
- [ ] **快速恢复**：将 `backups/xxxx/` 中的文件覆盖回原目录。
- [ ] **数据清理**：如果涉及数据库/配置变更，是否需要手动清理？

## 7. 归档
- [ ] 更新 `docs/changelog.md`
- [ ] 更新 `docs/features.md` (如果涉及新功能)
